{"ast":null,"code":"import { fork, put, all, call, takeEvery } from 'redux-saga/effects';\nimport { loginError, loginSuccessful, logoutSuccessful } from './actions';\nimport { LOGIN, LOGOUT } from './actionTypes';\nimport loginData from '../../../assets/login-info.json';\nimport token from '../../../token';\n\nfunction* login({\n  payload: {\n    email,\n    password,\n    history\n  }\n}) {\n  try {\n    //const response = yield call();\n    localStorage.setItem(\"token\", token);\n    yield put(loginSuccessful());\n    history.push(\"/dashboard\");\n  } catch (error) {\n    yield put(loginError(error));\n  }\n}\n\nexport function* watchUserLogin() {\n  yield takeEvery(LOGIN, login);\n}\nexport function* loginSaga() {\n  yield all([fork(watchUserLogin)]);\n}\n\nfunction* logout({\n  payload: {\n    history\n  }\n}) {\n  //const response = yield call();\n  localStorage.clear();\n  yield put(logoutSuccessful());\n  history.push(\"/dashboard\");\n}\n\nexport function* watchUserLogout() {\n  yield takeEvery(LOGOUT, logout);\n}\nexport function* logoutSaga() {\n  yield all([fork(watchUserLogout)]);\n}","map":{"version":3,"sources":["/home/sunil/Karyathalo/admin-portal/src/store/auth/login/saga.js"],"names":["fork","put","all","call","takeEvery","loginError","loginSuccessful","logoutSuccessful","LOGIN","LOGOUT","loginData","token","login","payload","email","password","history","localStorage","setItem","push","error","watchUserLogin","loginSaga","logout","clear","watchUserLogout","logoutSaga"],"mappings":"AAAA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+BC,SAA/B,QAAgD,oBAAhD;AAEA,SAASC,UAAT,EAAqBC,eAArB,EAAsCC,gBAAtC,QAA8D,WAA9D;AAEA,SAASC,KAAT,EAAgBC,MAAhB,QAA6B,eAA7B;AAEA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;AAEA,UAAUC,KAAV,CAAgB;AAAEC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,KAAF;AAASC,IAAAA,QAAT;AAAmBC,IAAAA;AAAnB;AAAX,CAAhB,EAA2D;AACvD,MAAI;AACA;AAEIC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BP,KAA9B;AACA,UAAMV,GAAG,CAACK,eAAe,EAAhB,CAAT;AACAU,IAAAA,OAAO,CAACG,IAAR,CAAa,YAAb;AACH,GANL,CAOA,OAAOC,KAAP,EAAc;AACV,UAAMnB,GAAG,CAACI,UAAU,CAACe,KAAD,CAAX,CAAT;AACH;AACJ;;AAED,OAAO,UAAUC,cAAV,GAA2B;AAC9B,QAAMjB,SAAS,CAACI,KAAD,EAAQI,KAAR,CAAf;AACH;AAED,OAAO,UAAUU,SAAV,GAAsB;AACzB,QAAMpB,GAAG,CAAC,CAACF,IAAI,CAACqB,cAAD,CAAL,CAAD,CAAT;AACH;;AAED,UAAUE,MAAV,CAAiB;AAAEV,EAAAA,OAAO,EAAE;AAAEG,IAAAA;AAAF;AAAX,CAAjB,EAA2C;AACvC;AACAC,EAAAA,YAAY,CAACO,KAAb;AACA,QAAMvB,GAAG,CAACM,gBAAgB,EAAjB,CAAT;AACAS,EAAAA,OAAO,CAACG,IAAR,CAAa,YAAb;AACH;;AAED,OAAO,UAAUM,eAAV,GAA4B;AAC/B,QAAMrB,SAAS,CAACK,MAAD,EAASc,MAAT,CAAf;AACH;AAED,OAAO,UAAUG,UAAV,GAAuB;AAC1B,QAAMxB,GAAG,CAAC,CAACF,IAAI,CAACyB,eAAD,CAAL,CAAD,CAAT;AACH","sourcesContent":["import { fork, put, all, call, takeEvery } from 'redux-saga/effects'\n\nimport { loginError, loginSuccessful, logoutSuccessful } from './actions';\n\nimport { LOGIN ,LOGOUT} from './actionTypes'\n\nimport loginData from '../../../assets/login-info.json'\nimport token from '../../../token'\n\nfunction* login({ payload: { email, password, history } }) {\n    try {\n        //const response = yield call();\n\n            localStorage.setItem(\"token\", token);\n            yield put(loginSuccessful());\n            history.push(\"/dashboard\");\n        }\n    catch (error) {\n        yield put(loginError(error));\n    }\n}\n\nexport function* watchUserLogin() {\n    yield takeEvery(LOGIN, login);\n}\n\nexport function* loginSaga() {\n    yield all([fork(watchUserLogin)]);\n}\n\nfunction* logout({ payload: { history } }) {\n    //const response = yield call();\n    localStorage.clear();\n    yield put(logoutSuccessful());\n    history.push(\"/dashboard\");\n}\n\nexport function* watchUserLogout() {\n    yield takeEvery(LOGOUT, logout);\n}\n\nexport function* logoutSaga() {\n    yield all([fork(watchUserLogout)]);\n}"]},"metadata":{},"sourceType":"module"}
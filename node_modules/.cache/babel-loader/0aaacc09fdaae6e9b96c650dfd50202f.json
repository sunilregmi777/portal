{"ast":null,"code":"import axios from \"axios\";\nimport { addDriver } from \"../store/actions\";\nimport store from \"../store\";\nimport Axios from \"axios\"; // const baseUrl = 'http://localhost:8080';\n\nconst baseUrl = 'http://localhost:5000';\n\nconst API = async (url, method, data) => {\n  console.log(url, method, data);\n  let headers = {};\n  return axios({\n    method: method,\n    url: `${baseUrl}/${url}`,\n    data: data,\n    headers: headers\n  }).then(response => {\n    if (response.status >= 200 || response.status <= 399) return response.data;\n    throw response.data;\n  }).catch(err => {\n    let message;\n\n    if (err.response && err.response.status) {\n      switch (err.response.status) {\n        case 404:\n          message = \"Sorry! the page you are looking for could not be found\";\n          break;\n\n        case 500:\n          message = \"Sorry! something went wrong, please contact our support team\";\n          break;\n\n        case 401:\n          message = \"Unauthorized request!\";\n          break;\n\n        case 400:\n          message = \"Bad Request!\";\n          break;\n\n        default:\n          message = err[1];\n          break;\n      }\n    } // store.dispatch(activateAlert({ type: \"ERROR\", message: message }));\n\n\n    throw message;\n  });\n};\n\n_c = API;\nexport default API;\n\nvar _c;\n\n$RefreshReg$(_c, \"API\");","map":{"version":3,"sources":["/home/sunil/Karyathalo/admin-portal/src/helpers/api.js"],"names":["axios","addDriver","store","Axios","baseUrl","API","url","method","data","console","log","headers","then","response","status","catch","err","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACC,MAAMC,OAAO,GAAG,uBAAhB;;AAEA,MAAMC,GAAG,GAAG,OAAOC,GAAP,EAAYC,MAAZ,EAAoBC,IAApB,KAA6B;AACxCC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EAAiBC,MAAjB,EAAyBC,IAAzB;AACA,MAAIG,OAAO,GAAG,EAAd;AACA,SAAOX,KAAK,CAAC;AACXO,IAAAA,MAAM,EAAEA,MADG;AAEXD,IAAAA,GAAG,EAAG,GAAEF,OAAQ,IAAGE,GAAI,EAFZ;AAGXE,IAAAA,IAAI,EAAEA,IAHK;AAIXG,IAAAA,OAAO,EAAEA;AAJE,GAAD,CAAL,CAMJC,IANI,CAMEC,QAAD,IAAc;AAClB,QAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAnB,IAA0BD,QAAQ,CAACC,MAAT,IAAmB,GAAjD,EACE,OAAOD,QAAQ,CAACL,IAAhB;AACF,UAAMK,QAAQ,CAACL,IAAf;AACD,GAVI,EAWJO,KAXI,CAWGC,GAAD,IAAS;AACd,QAAIC,OAAJ;;AACA,QAAID,GAAG,CAACH,QAAJ,IAAgBG,GAAG,CAACH,QAAJ,CAAaC,MAAjC,EAAyC;AACvC,cAAQE,GAAG,CAACH,QAAJ,CAAaC,MAArB;AACE,aAAK,GAAL;AACEG,UAAAA,OAAO,GAAG,wDAAV;AACA;;AACF,aAAK,GAAL;AACEA,UAAAA,OAAO,GACL,8DADF;AAEA;;AACF,aAAK,GAAL;AACEA,UAAAA,OAAO,GAAG,uBAAV;AACA;;AACF,aAAK,GAAL;AACEA,UAAAA,OAAO,GAAG,cAAV;AACA;;AACF;AACEA,UAAAA,OAAO,GAAGD,GAAG,CAAC,CAAD,CAAb;AACA;AAhBJ;AAkBD,KArBa,CAsBd;;;AACA,UAAMC,OAAN;AACD,GAnCI,CAAP;AAoCD,CAvCA;;KAAMZ,G;AAwCP,eAAeA,GAAf","sourcesContent":["import axios from \"axios\";\nimport { addDriver } from \"../store/actions\";\nimport store from \"../store\";\nimport Axios from \"axios\";\n\n// const baseUrl = 'http://localhost:8080';\n const baseUrl = 'http://localhost:5000';\n\n const API = async (url, method, data) => {\n  console.log(url, method, data)\n  let headers = {};\n  return axios({\n    method: method,\n    url: `${baseUrl}/${url}`,\n    data: data,\n    headers: headers,\n  })\n    .then((response) => {\n      if (response.status >= 200 || response.status <= 399)\n        return response.data;\n      throw response.data;\n    })\n    .catch((err) => {\n      let message;\n      if (err.response && err.response.status) {\n        switch (err.response.status) {\n          case 404:\n            message = \"Sorry! the page you are looking for could not be found\";\n            break;\n          case 500:\n            message =\n              \"Sorry! something went wrong, please contact our support team\";\n            break;\n          case 401:\n            message = \"Unauthorized request!\";\n            break;\n          case 400:\n            message = \"Bad Request!\";\n            break;\n          default:\n            message = err[1];\n            break;\n        }\n      }\n      // store.dispatch(activateAlert({ type: \"ERROR\", message: message }));\n      throw message;\n    });\n};\nexport default API;\n\n"]},"metadata":{},"sourceType":"module"}